<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
	.box{ width:400px; height:400px; border:1px solid blue; margin:100px auto; border-radius:50%; position:relative;}
	.box div{ width:100px; height:100px; background:red; border-radius:50%; 
	transform:translate(200px,0px); 
	margin-left:-50px;
	margin-top:-50px;}
</style>
<script>
	function d2a(n){
		return Math.PI/180*n;
	}

	window.onload=function(){
		var oBox=document.querySelector('div');
		var oDiv=document.querySelectorAll('div')[1];
		
		var r=200;
		
		function move(obj,end){
			var dis=end-0;
			var count=Math.floor(3000/30);
			var n=0;
			clearInterval(obj.timer);
			obj.timer=setInterval(function(){
				n++;
				var cur=90-n/count*dis;
				var b=Math.sin(d2a(cur))*r;
				var a=Math.cos(d2a(cur))*r;
				var x=a+r;
				var y=r-b;
				console.log(a);
				
				obj.style.transform='translate('+x+'px,'+y+'px)';	
				
				if(count==n){
					clearInterval(obj.timer);
					//alert('停止');
				}
					
			},30);
		}

		oDiv.onclick=function(){
			
			move(oDiv,360)
		};
		
	};
</script>
</head>

<body>
	<div class="box">
		<div></div>
    </div>
</body>
</html>






